<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crypto Dashboard</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  padding: 16px;
  background: #f5f5f5;
}
.card {
  background: white;
  padding: 12px;
  border-radius: 12px;
  margin-bottom: 20px;
}
.tv {
  height: 500px;
}
</style>
</head>

<body>
<h1>Crypto Dashboard</h1>

<div class="card">
<h2>BTC / USDT</h2>
<div id="tv_btc" class="tv"></div>
</div>

<div class="card">
<h2>ETH / USDT</h2>
<div id="tv_eth" class="tv"></div>
</div>

<script src="https://s3.tradingview.com/tv.js"></script>

<script>
new TradingView.widget({
  container_id: "tv_btc",
  symbol: "BINANCE:BTCUSDT",
  interval: "60",
  theme: "light",
  style: "1",
  autosize: true
});

new TradingView.widget({
  container_id: "tv_eth",
  symbol: "BINANCE:ETHUSDT",
  interval: "60",
  theme: "light",
  style: "1",
  autosize: true
});
</script>
<div class="card">
  <h2>Fear & Greed Index</h2>
  <div id="fear"></div>
</div>
<script>
async function loadFearGreed() {
  try {
    const response = await fetch("https://api.alternative.me/fng/?limit=1&format=json");
    const data = await response.json();

    const value = data.data[0].value;
    const text = data.data[0].value_classification;

    let color = "#999";

    if (value <= 25) color = "#2ecc71";
    else if (value <= 50) color = "#f1c40f";
    else if (value <= 75) color = "#e67e22";
    else color = "#e74c3c";

    document.getElementById("fear").innerHTML =
      `<h3 style="color:${color}; font-size:28px;">${value} - ${text}</h3>`;

  } catch (error) {
    document.getElementById("fear").innerHTML =
      "<p>Fear & Greed Index could not load.</p>";
  }
}

loadFearGreed();
</script>

</body>
</html>
